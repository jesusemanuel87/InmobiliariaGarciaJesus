@model IEnumerable<InmobiliariaGarciaJesus.Models.Pago>

<table class="table table-bordered mb-0">
    <thead class="bg-light">
        <tr class="pagos-header">
            <th colspan="6" class="fw-bold text-primary ps-5 py-3">
                <i class="fas fa-money-bill-wave me-2"></i>Pagos del Contrato
            </th>
        </tr>
<tr class="pagos-subheader bg-light">
    <th class="fw-bold py-2 ps-5" style="width: 10%;">N√∫mero</th>
    <th class="fw-bold py-2" style="width: 15%;">Importe</th>
    <th class="fw-bold py-2" style="width: 15%;">Fecha de Pago</th>
    <th class="fw-bold py-2" style="width: 15%;">Estado</th>
    <th class="fw-bold py-2" style="width: 20%;">M√©todo de Pago</th>
    <th class="fw-bold py-2" style="width: 25%;">Acciones</th>
</tr>
</thead>
<tbody>
@foreach (var pago in Model)
{
    <tr class="pago-row bg-light">
        <th class="ps-5 py-2"><strong>#@pago.Numero</strong></th>
        <th class="py-2">
            <strong class="text-success">
                $@pago.Importe.ToString("N0")
            </strong>
        </th>
        <td class="py-2">
            @if (pago.FechaPago.HasValue)
            {
                <span class="text-success">
                    <i class="fas fa-calendar-check me-1"></i>
                    @pago.FechaPago.Value.ToString("dd/MM/yyyy")
                </span>
            }
            else
            {
                <span class="text-muted">
                    <i class="fas fa-calendar-times me-1"></i> Sin fecha
                </span>
            }
        </td>
        <td class="py-2">
            @switch (pago.Estado)
            {
                case InmobiliariaGarciaJesus.Models.EstadoPago.Pendiente:
                    <span class="badge bg-warning text-dark">
                        <i class="fas fa-clock me-1"></i> Pendiente
                    </span>
                    break;
                case InmobiliariaGarciaJesus.Models.EstadoPago.Pagado:
                    <span class="badge bg-success">
                        <i class="fas fa-check me-1"></i> Pagado
                    </span>
                    break;
                case InmobiliariaGarciaJesus.Models.EstadoPago.Vencido:
                    <span class="badge bg-danger">
                        <i class="fas fa-exclamation-triangle me-1"></i> Vencido
                    </span>
                    break;
            }
        </td>
        <td class="py-2" style="width: 20%;">
            @if (pago.MetodoPago.HasValue)
            {
                @switch (pago.MetodoPago.Value)
                {
                    case InmobiliariaGarciaJesus.Models.MetodoPago.MercadoPago:
                        <span class="badge bg-primary">üí≥ MercadoPago</span>
                        break;
                    case InmobiliariaGarciaJesus.Models.MetodoPago.Transferencia:
                        <span class="badge bg-info">üè¶ Transferencia</span>
                        break;
                    case InmobiliariaGarciaJesus.Models.MetodoPago.Efectivo:
                        <span class="badge bg-success">üíµ Efectivo</span>
                        break;
                    case InmobiliariaGarciaJesus.Models.MetodoPago.Cheque:
                        <span class="badge bg-warning text-dark">üìÑ Cheque</span>
                        break;
                    case InmobiliariaGarciaJesus.Models.MetodoPago.Otro:
                        <span class="badge bg-secondary">üîß Otro</span>
                        break;
                }
            }
            else
            {
                <span class="text-muted small">Sin m√©todo</span>
            }
        </td>
        <td class="py-2" style="width: 25%;">
            <div class="btn-group btn-group-sm" role="group">
                <a asp-controller="Pagos" asp-action="Details" asp-route-id="@pago.Id" 
                   class="btn btn-outline-info btn-sm me-1" title="Ver detalles">
                    <i class="fas fa-eye"></i> Ver
                </a>
                <a asp-controller="Pagos" asp-action="Edit" asp-route-id="@pago.Id" 
                   class="btn btn-outline-warning btn-sm" title="Editar">
                    <i class="fas fa-edit"></i> Editar
                </a>
            </div>
        </td>
    </tr>
}
</tbody>
</table>
