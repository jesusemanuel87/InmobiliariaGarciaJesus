@model InmobiliariaGarciaJesus.Models.Empleado

<!-- Details Modal for Empleado -->
<div class="modal fade" id="empleadoDetailsModal" tabindex="-1" aria-labelledby="empleadoDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="empleadoDetailsModalLabel">
                    <i class="fas fa-user-tie"></i> Detalles del Empleado
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="text-primary mb-3">
                            <i class="fas fa-user"></i> Información Personal
                        </h6>
                        <table class="table table-borderless">
                            <tr>
                                <td class="fw-bold text-muted" style="width: 40%;">DNI:</td>
                                <td>@Model.Dni</td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted">Nombre Completo:</td>
                                <td>@Model.NombreCompleto</td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted">Email:</td>
                                <td>
                                    <a href="mailto:@Model.Email" class="text-decoration-none">
                                        <i class="fas fa-envelope text-muted me-1"></i>@Model.Email
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted">Teléfono:</td>
                                <td>
                                    @if (!string.IsNullOrEmpty(Model.Telefono))
                                    {
                                        <a href="tel:@Model.Telefono" class="text-decoration-none">
                                            <i class="fas fa-phone text-muted me-1"></i>@Model.Telefono
                                        </a>
                                    }
                                    else
                                    {
                                        <span class="text-muted">No especificado</span>
                                    }
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-success mb-3">
                            <i class="fas fa-briefcase"></i> Información Laboral
                        </h6>
                        <table class="table table-borderless">
                            <tr>
                                <td class="fw-bold text-muted" style="width: 40%;">Rol:</td>
                                <td>
                                    <span class="badge @(Model.Rol == InmobiliariaGarciaJesus.Models.RolEmpleado.Administrador ? "bg-danger" : "bg-primary") fs-6">
                                        @Model.Rol.ToString()
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted">Estado:</td>
                                <td>
                                    <span class="badge @(Model.Estado ? "bg-success" : "bg-secondary") fs-6">
                                        <i class="fas @(Model.Estado ? "fa-check-circle" : "fa-times-circle") me-1"></i>
                                        @(Model.Estado ? "Activo" : "Inactivo")
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted">Fecha de Ingreso:</td>
                                <td>
                                    <i class="fas fa-calendar-alt text-muted me-1"></i>
                                    @Model.FechaCreacion.ToString("dd/MM/yyyy")
                                </td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted">Antigüedad:</td>
                                <td>
                                    @{
                                        var antiguedad = DateTime.Now - Model.FechaCreacion;
                                        var años = (int)(antiguedad.TotalDays / 365);
                                        var meses = (int)((antiguedad.TotalDays % 365) / 30);
                                    }
                                    <i class="fas fa-clock text-muted me-1"></i>
                                    @if (años > 0)
                                    {
                                        @($"{años} año{(años > 1 ? "s" : "")}")
                                        @if (meses > 0)
                                        {
                                            @($" y {meses} mes{(meses > 1 ? "es" : "")}")
                                        }
                                    }
                                    else if (meses > 0)
                                    {
                                        @($"{meses} mes{(meses > 1 ? "es" : "")}")
                                    }
                                    else
                                    {
                                        <span>Menos de un mes</span>
                                    }
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

                @if (Model.Rol == InmobiliariaGarciaJesus.Models.RolEmpleado.Administrador)
                {
                    <div class="alert alert-warning mt-3">
                        <i class="fas fa-shield-alt me-2"></i>
                        <strong>Administrador:</strong> Este empleado tiene permisos completos en el sistema.
                    </div>
                }

                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card bg-light">
                            <div class="card-body">
                                <h6 class="card-title text-info mb-3">
                                    <i class="fas fa-info-circle"></i> Información Adicional
                                </h6>
                                <div class="row">
                                    <div class="col-md-6">
                                        <small class="text-muted">
                                            <strong>ID del Sistema:</strong> #@Model.Id
                                        </small>
                                    </div>
                                    <div class="col-md-6">
                                        <small class="text-muted">
                                            <strong>Última Actualización:</strong> @DateTime.Now.ToString("dd/MM/yyyy HH:mm")
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-warning" onclick="showEditModal(@Model.Id)" data-bs-dismiss="modal">
                    <i class="fas fa-edit"></i> Editar
                </button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="fas fa-times"></i> Cerrar
                </button>
            </div>
        </div>
    </div>
</div>
